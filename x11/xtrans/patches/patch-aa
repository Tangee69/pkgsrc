$NetBSD: patch-aa,v 1.3 2008/01/15 08:56:52 tnn Exp $

--- Xtranssock.c.orig	2006-09-13 23:06:06.000000000 +0200
+++ Xtranssock.c
@@ -53,6 +53,7 @@ from the copyright holders.
  * CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
  */
 
+#include <sys/stat.h>
 #include <ctype.h>
 #ifdef XTHREADS
 #include <X11/Xthreads.h>
@@ -215,7 +216,7 @@ static int TRANS(SocketINETClose) (Xtran
 
 #ifdef UNIXCONN
 
-#ifdef hpux
+#ifdef __hpux
 
 #if defined(X11_t)
 #define UNIX_PATH "/usr/spool/sockets/X11/"
@@ -286,11 +287,6 @@ static int TRANS(SocketINETClose) (Xtran
  * that don't have IPv6 support.
  */
 #if defined(IPv6) && defined(AF_INET6)
-static const struct in6_addr local_in6addr_any = IN6ADDR_ANY_INIT;
-#pragma weak in6addr_any = local_in6addr_any
-#ifndef __USLC__
-#pragma weak getaddrinfo
-#endif
 static int haveIPv6 = 1;
 #endif
 
