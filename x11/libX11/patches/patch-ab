$NetBSD: patch-ab,v 1.3 2008/07/24 01:07:31 bjs Exp $

IM: Respect XMODIFIERS for Thai locale (bug #15719)

--- modules/im/ximcp/imThaiIm.c.orig	2008-03-06 15:45:06.000000000 -0500
+++ modules/im/ximcp/imThaiIm.c
@@ -67,7 +67,13 @@ _XimCheckIfThaiProcessing(im)
     char *language;
 
     _XGetLCValues(im->core.lcd, XlcNLanguage, &language, NULL);
-    if(strcmp(language, THAI_LANGUAGE_NAME) == 0) {
+    if(strcmp(language, THAI_LANGUAGE_NAME) == 0 &&
+       (strcmp(im->core.im_name, "") == 0 ||
+        strcmp(im->core.im_name, "BasicCheck") == 0 ||
+        strcmp(im->core.im_name, "Strict") == 0 ||
+        strcmp(im->core.im_name, "Thaicat") == 0 ||
+        strcmp(im->core.im_name, "Passthrough") == 0))
+    {
 	return(True);
     }
     return(False);
