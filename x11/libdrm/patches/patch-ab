--- ./libdrm/xf86drm.c.orig	2006-11-08 23:54:38 +0200
+++ ./libdrm/xf86drm.c	2008-02-14 10:14:55 +0200
@@ -62,12 +62,12 @@
 
 #include "xf86drm.h"
 
-#if defined(__FreeBSD__) || defined(__FreeBSD_kernel__)
+#if defined(__FreeBSD__) || defined(__FreeBSD_kernel__) || defined(__DragonFly__)
 #define DRM_MAJOR 145
 #endif
 
 #ifdef __NetBSD__
-#define DRM_MAJOR 34
+#define DRM_MAJOR 180
 #endif
 
 # ifdef __OpenBSD__
