$NetBSD: patch-aa,v 1.6 2008/01/23 11:24:47 tnn Exp $

--- liboil/liboilcpu.c.orig	2007-04-11 08:25:16.000000000 +0200
+++ liboil/liboilcpu.c
@@ -578,7 +578,7 @@ oil_cpu_detect_getisax (void)
 static void
 oil_cpu_detect_kernel_support (void)
 {
-#ifdef __FreeBSD__
+#if defined(__FreeBSD__) || defined(__DragonFly__)
   int ret, enabled;
   size_t len;
 
@@ -598,7 +598,7 @@ oil_cpu_detect_kernel_support (void)
   /* Solaris is OK */
 #elif defined(__NetBSD__)
   /* NetBSD is OK */
-#elif
+#else
    
   /* If we don't know that the operating system supports SSE, don't trust that
    * it will properly support it.
