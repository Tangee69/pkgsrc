--- src/toolbar.c.orig	2008-06-30 10:36:22.000000000 -0400
+++ src/toolbar.c	2008-06-30 10:37:19.000000000 -0400
@@ -164,10 +164,8 @@
 					 	 gpointer	 data);
 static void toolbar_addrbook_cb   		(GtkWidget   	*widget, 
 					 	 gpointer     	 data);
-#ifdef USE_ASPELL
 static void toolbar_check_spelling_cb  		(GtkWidget   	*widget, 
 					 	 gpointer     	 data);
-#endif
 static void toolbar_cancel_inc_cb		(GtkWidget	*widget,
 						 gpointer	 data);
 
@@ -208,9 +206,7 @@
 	{ "A_LINEWRAP_CURRENT",	N_("Wrap long lines of current paragraph") }, 
 	{ "A_LINEWRAP_ALL",     N_("Wrap all long lines")                  }, 
 	{ "A_ADDRBOOK",      	N_("Address book")                         },
-#ifdef USE_ASPELL
 	{ "A_CHECK_SPELLING",	N_("Check spelling")                       },
-#endif
 	{ "A_CLAWS_ACTIONS",   	N_("Claws Mail Actions Feature")	   }, 
 	{ "A_CANCEL_INC",	N_("Cancel receiving")			   },
 	{ "A_CLOSE",		N_("Close window")			   },
@@ -346,9 +342,7 @@
 					A_INSERT,        A_ATTACH,       A_SIG,
 					A_EXTEDITOR,     A_LINEWRAP_CURRENT,     
 					A_LINEWRAP_ALL,  A_ADDRBOOK,
-#ifdef USE_ASPELL
 					A_CHECK_SPELLING, 
-#endif
 					A_CLOSE };	
 
 		for (i = 0; i < sizeof comp_items / sizeof comp_items[0]; i++) 
@@ -449,9 +443,7 @@
 	case A_ADDRBOOK: 	return _("Address");
 	case A_CANCEL_INC:	return _("Stop");
 	case A_EXECUTE:		return _("Execute");
-	#ifdef USE_ASPELL
 	case A_CHECK_SPELLING:	return _("Check spelling");
-	#endif
 	default:		return "";
 	}
 }
@@ -492,9 +484,7 @@
 	case A_ADDRBOOK: 	return STOCK_PIXMAP_ADDRESS_BOOK;
 	case A_CANCEL_INC:	return STOCK_PIXMAP_CANCEL;
 	case A_EXECUTE:		return STOCK_PIXMAP_EXEC;
-	#ifdef USE_ASPELL
 	case A_CHECK_SPELLING:	return STOCK_PIXMAP_CHECK_SPELLING;
-	#endif
 	default:		return -1;
 	}
 }
@@ -523,10 +513,8 @@
 		{ A_SEPARATOR},
 		{ A_TRASH},
 #ifndef GENERIC_UMPC
-#if (defined(USE_SPAMASSASSIN_PLUGIN) || defined(USE_BOGOFILTER_PLUGIN))
 		{ A_LEARN_SPAM},
 #endif
-#endif
 		{ A_SEPARATOR},
 		{ A_GOTO_NEXT}
 	};
@@ -622,10 +610,8 @@
 		{ A_SEPARATOR},
 		{ A_TRASH},
 #ifndef GENERIC_UMPC
-#if (defined(USE_SPAMASSASSIN_PLUGIN) || defined(USE_BOGOFILTER_PLUGIN))
 		{ A_LEARN_SPAM},
 #endif
-#endif
 		{ A_GOTO_NEXT}
 	};
 	
@@ -1585,12 +1571,10 @@
 	compose_toolbar_cb(A_LINEWRAP_ALL, data);
 }
 
-#ifdef USE_ASPELL
 static void toolbar_check_spelling_cb(GtkWidget *widget, gpointer data)
 {
 	compose_toolbar_cb(A_CHECK_SPELLING, data);
 }
-#endif
 /*
  * Execute actions from toolbar
  */
@@ -1715,9 +1699,7 @@
 		{ A_LINEWRAP_CURRENT,	toolbar_linewrap_current_cb   	},
 		{ A_LINEWRAP_ALL,	toolbar_linewrap_all_cb   	},
 		{ A_ADDRBOOK,		toolbar_addrbook_cb		},
-#ifdef USE_ASPELL
 		{ A_CHECK_SPELLING,     toolbar_check_spelling_cb       },
-#endif
 		{ A_CLAWS_ACTIONS,	toolbar_actions_execute_cb	},
 		{ A_CANCEL_INC,		toolbar_cancel_inc_cb		}
 	};
@@ -2059,12 +2041,10 @@
 			TOOLBAR_ITEM(item,icon_wid,toolbar_item->text,_("Address book"));
 			toolbar_data->addrbook_btn = item;
 			break;
-#ifdef USE_ASPELL
 		case A_CHECK_SPELLING:
 			TOOLBAR_ITEM(item,icon_wid,toolbar_item->text,_("Check spelling"));
 			toolbar_data->spellcheck_btn = item;
 			break;
-#endif
 
 		case A_CLAWS_ACTIONS:
 			TOOLBAR_ITEM(item,icon_wid,toolbar_item->text,toolbar_item->text);
@@ -2417,10 +2397,8 @@
 		GTK_BUTTON_SET_SENSITIVE(compose->toolbar->linewrap_all_btn, sensitive);
 	if (compose->toolbar->addrbook_btn)
 		GTK_BUTTON_SET_SENSITIVE(compose->toolbar->addrbook_btn, sensitive);
-#ifdef USE_ASPELL
 	if (compose->toolbar->spellcheck_btn)
 		GTK_BUTTON_SET_SENSITIVE(compose->toolbar->spellcheck_btn, sensitive);
-#endif
 	for (; items != NULL; items = g_slist_next(items)) {
 		ToolbarClawsActions *item = (ToolbarClawsActions *)items->data;
 		GTK_BUTTON_SET_SENSITIVE(item->widget, sensitive);
@@ -2463,9 +2441,7 @@
 	toolbar->linewrap_current_btn	= NULL;	
 	toolbar->linewrap_all_btn     	= NULL;	
 	toolbar->addrbook_btn     	= NULL;	
-#ifdef USE_ASPELL
 	toolbar->spellcheck_btn   	= NULL;
-#endif
 
 	toolbar_destroy(toolbar);
 }
