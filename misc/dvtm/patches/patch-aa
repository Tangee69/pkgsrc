$NetBSD: patch-aa,v 1.3 2009/02/17 10:08:15 tnn Exp $

Do not use rudimentary mkdir(1), cp(1) and chmod(1): install(1) is
simpler and more elegant to install binaries.

--- Makefile.orig	2009-02-08 22:52:37.000000000 +0100
+++ Makefile
@@ -20,6 +20,7 @@ ${OBJ}: config.h config.mk
 dvtm: ${OBJ}
 	@echo CC -o $@
 	@${CC} -o $@ ${OBJ} ${LDFLAGS}
+	@sed "s/VERSION/${VERSION}/g" < dvtm.1 > dvtm.1.out
 
 debug: clean
 	@make CFLAGS='${DEBUG_CFLAGS}'
@@ -43,15 +44,12 @@ install: dvtm
 	@echo stripping executable
 	@strip -s dvtm
 	@echo installing executable file to ${DESTDIR}${PREFIX}/bin
-	@mkdir -p ${DESTDIR}${PREFIX}/bin
-	@cp -f dvtm ${DESTDIR}${PREFIX}/bin
-	@chmod 755 ${DESTDIR}${PREFIX}/bin/dvtm
-	@cp -f dvtm-status ${DESTDIR}${PREFIX}/bin
-	@chmod 755 ${DESTDIR}${PREFIX}/bin/dvtm-status
+	@install -m 755 -d ${DESTDIR}${PREFIX}/bin
+	@install -m 755 -c dvtm ${DESTDIR}${PREFIX}/bin
+	@install -m 755 -c dvtm-status ${DESTDIR}${PREFIX}/bin
 	@echo installing manual page to ${DESTDIR}${MANPREFIX}/man1
-	@mkdir -p ${DESTDIR}${MANPREFIX}/man1
-	@sed "s/VERSION/${VERSION}/g" < dvtm.1 > ${DESTDIR}${MANPREFIX}/man1/dvtm.1
-	@chmod 644 ${DESTDIR}${MANPREFIX}/man1/dvtm.1
+	@install -m 755 -d ${DESTDIR}${MANPREFIX}/man1
+	@install -m 644 -c dvtm.1.out ${DESTDIR}${MANPREFIX}/man1/dvtm.1
 
 uninstall:
 	@echo removing executable file from ${DESTDIR}${PREFIX}/bin
