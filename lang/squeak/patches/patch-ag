$NetBSD: patch-ag,v 1.3 2008/01/12 23:30:38 bad Exp $

--- platforms/unix/vm/sqUnixCharConv.c.orig	2007-12-06 18:28:07.000000000 -0600
+++ platforms/unix/vm/sqUnixCharConv.c
@@ -151,14 +151,18 @@ int convertChars(char *from, int fromLen
 
 typedef char ichar_t;
 
-#ifdef __sun__
+#if defined(__sun__) && !defined(__NetBSD__)	/* is __NetBSD__ necc with __sun__? */
 void *sqTextEncoding=	(void *)"mac";		/* xxxFIXME -> "ISO-8859-15" */ 
 void *uxPathEncoding=	(void *)"iso5";
 void *uxTextEncoding=	(void *)"iso5";
 void *uxXWinEncoding=	(void *)"iso5";
 void *uxUTF8Encoding=	(void *)"UTF-8";
 #else
+#ifdef __NetBSD__
+void *sqTextEncoding=	(void *)"ISO-8859-15";
+#else
 void *sqTextEncoding=	(void *)"MACINTOSH";	/* xxxFIXME -> "ISO-8859-15" */ 
+#endif
 void *uxPathEncoding=	(void *)"UTF-8";
 void *uxTextEncoding=	(void *)"ISO-8859-15";
 void *uxXWinEncoding=	(void *)"ISO-8859-1";
