$NetBSD: patch-src_cs_c_configure,v 1.1 2023/09/01 19:48:28 riastradh Exp $

Don't link against libiconv_std.a.
https://github.com/racket/racket/issues/4736

Link against ncurses with -lncurses, not by hard-coding the static
library path out of /usr/pkg.
https://github.com/racket/racket/issues/4734

Allow CONFIGURE_ENV to set PAXCTL so user need not have /usr/sbin in
PATH.

--- src/cs/c/configure.orig	2023-07-18 00:36:40.000000000 +0000
+++ src/cs/c/configure
@@ -4457,10 +4457,9 @@ case "$host_os" in
     MACH_OS=nb
     LIBS="${LIBS} -lm -lpthread"
     LINK_DYNAMIC="-rdynamic"
-    add_iconv_lib="/usr/lib/i18n/libiconv_std.a"
     skip_curses_check=yes
-    add_curses_lib="/usr/pkg/lib/libncurses.a"
-    default_post_linker="paxctl +m"
+    add_curses_lib="-lncurses"
+    default_post_linker="${PAXCTL:-paxctl} +m"
     ;;
   irix*)
     ;;
