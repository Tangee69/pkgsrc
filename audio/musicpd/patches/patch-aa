$NetBSD: patch-aa,v 1.7 2009/02/11 18:30:42 drochner Exp $

--- src/decoder/mod_plugin.c.orig	2009-01-17 20:41:09.000000000 +0100
+++ src/decoder/mod_plugin.c
@@ -172,7 +172,6 @@ mod_decode(struct decoder *decoder, cons
 
 	if (!(data = mod_open(path))) {
 		ERROR("failed to open mod: %s\n", path);
-		MikMod_Exit();
 		return;
 	}
 
@@ -195,8 +194,6 @@ mod_decode(struct decoder *decoder, cons
 	}
 
 	mod_close(data);
-
-	MikMod_Exit();
 }
 
 static struct tag *modTagDup(const char *file)
@@ -212,7 +209,6 @@ static struct tag *modTagDup(const char 
 
 	if (moduleHandle == NULL) {
 		DEBUG("modTagDup: Failed to open file: %s\n", file);
-		MikMod_Exit();
 		return NULL;
 
 	}
@@ -228,8 +224,6 @@ static struct tag *modTagDup(const char 
 	if (title)
 		tag_add_item(ret, TAG_ITEM_TITLE, title);
 
-	MikMod_Exit();
-
 	return ret;
 }
 
