$NetBSD: patch-aa,v 1.2 2016/08/16 13:09:17 mef Exp $

--- lib/IO/Interface.xs~	2014-12-10 01:41:30.000000000 +0900
+++ lib/IO/Interface.xs	2016-08-16 22:00:11.000000000 +0900
@@ -442,6 +442,9 @@ if_addr(sock, name, ...)
 	 operation = SIOCGIFADDR;
        }
        if (!Ioctl(sock,operation,&ifr)) XSRETURN_UNDEF;
+#ifdef __NetBSD__
+     ifr.ifr_addr.sa_family = AF_INET;
+#endif
        if (ifr.ifr_addr.sa_family != AF_INET) croak ("Address is not in the AF_INET family.\n");
        RETVAL = inet_ntoa(((struct sockaddr_in*) &ifr.ifr_addr)->sin_addr);
      }
