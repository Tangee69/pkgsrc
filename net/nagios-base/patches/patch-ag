$NetBSD: patch-ag,v 1.3 2008/03/18 21:53:41 tonnerre Exp $

--- cgi/avail.c.orig	2006-04-06 00:33:32.000000000 +0200
+++ cgi/avail.c
@@ -1157,6 +1157,7 @@ int process_cgivars(void){
 				hostgroup_name="";
 			else
 				strcpy(hostgroup_name,variables[x]);
+			strip_html_brackets(hostgroup_name);
 			display_type=DISPLAY_HOSTGROUP_AVAIL;
 			show_all_hostgroups=(strcmp(hostgroup_name,"all"))?FALSE:TRUE;
 		        }
@@ -1174,6 +1175,7 @@ int process_cgivars(void){
 				servicegroup_name="";
 			else
 				strcpy(servicegroup_name,variables[x]);
+			strip_html_brackets(servicegroup_name);
 			display_type=DISPLAY_SERVICEGROUP_AVAIL;
 			show_all_servicegroups=(strcmp(servicegroup_name,"all"))?FALSE:TRUE;
 		        }
@@ -1191,6 +1193,7 @@ int process_cgivars(void){
 				host_name="";
 			else
 				strcpy(host_name,variables[x]);
+			strip_html_brackets(host_name);
 			display_type=DISPLAY_HOST_AVAIL;
 			show_all_hosts=(strcmp(host_name,"all"))?FALSE:TRUE;
 		        }
@@ -1208,6 +1211,7 @@ int process_cgivars(void){
 				svc_description="";
 			else
 				strcpy(svc_description,variables[x]);
+			strip_html_brackets(svc_description);
 			display_type=DISPLAY_SERVICE_AVAIL;
 			show_all_services=(strcmp(svc_description,"all"))?FALSE:TRUE;
 		        }
