$NetBSD: patch-makefile,v 1.12 2015/07/14 20:14:49 wiz Exp $

Add NetBSD support.

--- makefile.orig	2015-07-14 19:04:56.000000000 +0000
+++ makefile
@@ -295,6 +295,10 @@ ifeq ($(TARGETOS),freebsd)
 OSD := sdl
 endif
 
+ifeq ($(TARGETOS),netbsd)
+OSD := sdl
+endif
+
 ifeq ($(TARGETOS),solaris)
 OSD := sdl
 endif
@@ -1000,6 +1004,26 @@ freebsd_x86: generate $(PROJECTDIR)/gmak
 
 
 #-------------------------------------------------
+# gmake-netbsd
+#-------------------------------------------------
+
+
+$(PROJECTDIR)/gmake-netbsd/Makefile: makefile $(SCRIPTS) $(GENIE)
+	$(SILENT) $(GENIE) $(PARAMS) --gcc=netbsd --gcc_version=$(GCC_VERSION) gmake
+
+.PHONY: netbsd_x64
+netbsd_x64: generate $(PROJECTDIR)/gmake-netbsd/Makefile
+	$(SILENT) $(MAKE) -C $(PROJECTDIR)/gmake-netbsd config=$(CONFIG)64
+
+.PHONY: netbsd
+netbsd: netbsd_x86
+
+.PHONY: netbsd_x86
+netbsd_x86: generate $(PROJECTDIR)/gmake-netbsd/Makefile
+	$(SILENT) $(MAKE) -C $(PROJECTDIR)/gmake-netbsd config=$(CONFIG)32
+
+
+#-------------------------------------------------
 # Clean/bootstrap
 #-------------------------------------------------
 
